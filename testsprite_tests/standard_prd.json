{
  "meta": {
    "project": "Invoice Management System - Case Study",
    "date": "2026-02-21",
    "prepared_by": "Generated by TestSprite"
  },
  "product_overview": "Web tabanlı fatura yönetim portalı; kullanıcı kimlik doğrulaması, dashboard istatistikleri, fatura CRUD ve PDF dışa aktarımı ile müşteri yönetimi sağlar.",
  "core_goals": [
    "Güvenli JWT tabanlı kullanıcı kimlik doğrulaması sağlamak ve yetkisiz erişimi engellemek.",
    "Yöneticilere fatura ve müşteri yönetimi için hızlı, duyarlı ve hataya dayanıklı CRUD işlemleri sunmak.",
    "Fatura listeleri, tarih filtreleme ve dashboard KPI'ları ile operasyonel görünürlük sağlamak.",
    "Faturalara jsPDF ile PDF dışa aktarma desteği ve kullanıcıya anlaşılır bildirimler sunmak."
  ],
  "features": [
    {
      "name": "Kullanıcı Girişi",
      "description": "Admin kullanıcı adı ve şifresiyle sisteme giriş yapma; başarılı girişte dashboard'a yönlendirme ve hatalarda kullanıcıya bildirim gösterme.",
      "user_flows": [
        "Navigate to /login -> Kullanıcı adını gir -> Şifreyi gir -> Giriş yap butonuna tıkla -> JWT tokeni alındığını gör -> Yönlendirildiğini gör /dashboard",
        "Navigate to /login -> Kullanıcı adını gir -> Şifreyi gir (yanlış) -> Giriş yap butonuna tıkla -> 401 hata yanıtı al -> Hata toast bildirimi gör -> Login formunda kal",
        "Navigate to /dashboard -> AuthGuard tarafından engellendiğini gör -> Yönlendirildiğini gör /login"
      ]
    },
    {
      "name": "Dashboard İstatistikleri",
      "description": "Toplam fatura, toplam tutar ve son işlemler gibi KPI kartlarını ve son faturalar tablosunu gösterir; API hatalarını bildirir.",
      "user_flows": [
        "Navigate to /dashboard -> İstatistikler için GET /api/dashboard/stats isteği gönder -> İstatistik kartlarının yüklendiğini gör -> Son faturalar tablosunu gör",
        "Navigate to /dashboard -> İstatistikler için GET isteği gönder -> 500 hata yanıtı al -> Hata toast bildirimi gör -> İstatistik kartlarının placeholder/boş state ile gösterildiğini gör",
        "Navigate to /dashboard -> AuthGuard tarafından engellendiğini gör -> Yönlendirildiğini gör /login"
      ]
    },
    {
      "name": "Fatura Yönetimi",
      "description": "Fatura listeleme, tarih aralığı filtreleme, yeni fatura oluşturma, düzenleme, silme ve jsPDF ile PDF indirme işlemlerini destekler.",
      "user_flows": [
        "Navigate to /invoices -> Tarih aralığı seç -> Filtre butonuna tıkla -> Fatura listesinin filtrelendiğini gör",
        "Navigate to /invoices -> Yeni fatura ekle butonuna tıkla -> Navigate to /invoices/new -> Müşteri seç -> Fatura tarihini gir -> Yeni fatura satırı ekle butonuna tıkla -> Satır açıklaması gir -> Satır miktarını gir -> Satır birim fiyatını gir -> Kaydet butonuna tıkla -> Başarılı kaydetme toast bildirimi gör -> Yeni faturanın listede göründüğünü gör",
        "Navigate to /invoices/new -> Müşteri alanını boş bırak -> Kaydet butonuna tıkla -> Alan doğrulama hatası mesajı gör -> Fatura kaydı yapılmaz",
        "Navigate to /invoices/new -> Gerekli alanları doldur -> Kaydet butonuna tıkla -> API 500 hata yanıtı al -> Hata toast bildirimi gör -> Formda kal",
        "Navigate to /invoices -> Fatura üzerinde düzenle butonuna tıkla -> Navigate to /invoices/edit/:id -> Alanları değiştir -> Kaydet butonuna tıkla -> Başarılı güncelleme toast bildirimi gör -> Güncellenmiş faturayı listede gör",
        "Navigate to /invoices -> Fatura üzerinde sil butonuna tıkla -> Silme onay modalını gör -> Silme onayla butonuna tıkla -> Başarılı silme toast bildirimi gör -> Faturanın listeden kaldırıldığını gör",
        "Navigate to /invoices -> Fatura üzerinde sil butonuna tıkla -> Silme onayla butonuna tıkla -> API 500 hata yanıtı al -> Hata toast bildirimi gör -> Fatura listede kalır",
        "Navigate to /invoices -> PDF butonuna tıkla (ilgili faturada) -> PDF oluşturma işlemi tetiklenir -> PDF indirme istemi gösterilir"
      ]
    },
    {
      "name": "Müşteri Yönetimi",
      "description": "Müşteri listesini görüntüleme ve modal üzerinden müşteri oluşturma, düzenleme ve silme işlemlerini gerçekleştirir; hataları bildirir.",
      "user_flows": [
        "Navigate to /customers -> Yeni müşteri ekle butonuna tıkla -> Müşteri modalı açıldığını gör -> Modal üzerinden müşteri bilgilerini gir -> Kaydet butonuna tıkla -> Başarılı kayıt toast bildirimi gör -> Yeni müşterinin listede göründüğünü gör",
        "Navigate to /customers -> Yeni müşteri ekle butonuna tıkla -> Modal üzerinden müşteri bilgilerini gir (mevcut e-posta ile) -> Kaydet butonuna tıkla -> API 409 duplicate hata yanıtı al -> Modal içinde hata mesajı gör -> Kayıt yapılmaz",
        "Navigate to /customers -> Müşteri üzerinde düzenle butonuna tıkla -> Modal açıldığını gör -> Bilgileri düzenle -> Kaydet butonuna tıkla -> Başarılı güncelleme toast bildirimi gör -> Listede güncellemenin yansıdığını gör",
        "Navigate to /customers -> Müşteri üzerinde sil butonuna tıkla -> Silme onay modalını gör -> Silme onayla butonuna tıkla -> Başarılı silme toast bildirimi gör -> Müşteri listeden kaldırılır",
        "Navigate to /customers -> Müşteri üzerinde sil butonuna tıkla -> Silme onayla butonuna tıkla -> API 500 hata yanıtı al -> Hata toast bildirimi gör -> Müşteri listede kalır"
      ]
    }
  ],
  "code_summary": {
    "version": "2",
    "type": "frontend",
    "tech_stack": [
      "TypeScript",
      "Angular 21",
      "Bootstrap 5",
      "Angular Signals",
      "Zoneless Change Detection",
      "jsPDF"
    ],
    "routes": [
      {
        "path": "/login",
        "file": "src/app/components/login/login.ts",
        "auth_required": false,
        "description": "Kullanıcı giriş sayfası"
      },
      {
        "path": "/dashboard",
        "file": "src/app/components/dashboard/dashboard.ts",
        "auth_required": true,
        "description": "İstatistik paneli ve özet bilgiler"
      },
      {
        "path": "/invoices",
        "file": "src/app/components/invoice-list/invoice-list.ts",
        "auth_required": true,
        "description": "Faturaların listelendiği ve tarihe göre filtrelendiği sayfa"
      },
      {
        "path": "/invoices/new",
        "file": "src/app/components/invoice-form/invoice-form.ts",
        "auth_required": true,
        "description": "Yeni fatura oluşturma formu"
      },
      {
        "path": "/invoices/edit/:id",
        "file": "src/app/components/invoice-form/invoice-form.ts",
        "auth_required": true,
        "description": "Mevcut faturayı düzenleme formu"
      },
      {
        "path": "/customers",
        "file": "src/app/components/customer-list/customer-list.ts",
        "auth_required": true,
        "description": "Müşteri listesi ve CRUD yönetimi"
      }
    ],
    "features": [
      {
        "name": "Kullanıcı Girişi",
        "description": "Admin kullanıcı adı ve şifresiyle sisteme giriş yapma",
        "files": [
          "src/app/components/login/login.ts",
          "src/app/services/auth.service.ts"
        ],
        "entry_route": "/login",
        "user_interactions": [
          "Kullanıcı adını gir",
          "Şifreyi gir",
          "Giriş yap butonuna tıkla"
        ],
        "api_calls": [
          {
            "method": "POST",
            "endpoint": "/api/auth/login"
          }
        ],
        "auth_required": false
      },
      {
        "name": "Dashboard İstatistikleri",
        "description": "Toplam fatura, tutar ve son işlemleri görüntüleme",
        "files": [
          "src/app/components/dashboard/dashboard.ts",
          "src/app/services/dashboard.service.ts"
        ],
        "entry_route": "/dashboard",
        "user_interactions": [
          "İstatistik kartlarını incele",
          "Son faturalar tablosunu gör"
        ],
        "api_calls": [
          {
            "method": "GET",
            "endpoint": "/api/dashboard/stats"
          }
        ],
        "auth_required": true
      },
      {
        "name": "Fatura Yönetimi",
        "description": "Fatura oluşturma, düzenleme, silme ve PDF alma",
        "files": [
          "src/app/components/invoice-list/invoice-list.ts",
          "src/app/components/invoice-form/invoice-form.ts",
          "src/app/services/invoice.service.ts",
          "src/app/services/pdf.service.ts"
        ],
        "entry_route": "/invoices",
        "user_interactions": [
          "Tarih aralığına göre filtrele",
          "Yeni fatura ekle sayfasına git",
          "Fatura satırlarını dinamik ekle/çıkar",
          "PDF butonuna tıklayarak indir",
          "Faturayı sil"
        ],
        "api_calls": [
          {
            "method": "GET",
            "endpoint": "/api/invoice/list"
          },
          {
            "method": "POST",
            "endpoint": "/api/invoice/save"
          },
          {
            "method": "PUT",
            "endpoint": "/api/invoice/update"
          },
          {
            "method": "DELETE",
            "endpoint": "/api/invoice/delete"
          }
        ],
        "auth_required": true
      },
      {
        "name": "Müşteri Yönetimi",
        "description": "Müşteri bilgilerini CRUD olarak yönetme",
        "files": [
          "src/app/components/customer-list/customer-list.ts",
          "src/app/services/customer.service.ts"
        ],
        "entry_route": "/customers",
        "user_interactions": [
          "Yeni müşteri ekle butonuna tıkla",
          "Modal üzerinden müşteri bilgilerini gir",
          "Müşteriyi düzenle veya sil"
        ],
        "api_calls": [
          {
            "method": "GET",
            "endpoint": "/api/customer/list"
          },
          {
            "method": "POST",
            "endpoint": "/api/customer/save"
          },
          {
            "method": "PUT",
            "endpoint": "/api/customer/update"
          },
          {
            "method": "DELETE",
            "endpoint": "/api/customer/delete"
          }
        ],
        "auth_required": true
      }
    ],
    "known_limitations": []
  }
}
